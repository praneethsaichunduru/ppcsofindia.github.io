<!DOCTYPE html>
<html lang="en">
<head>
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZB7NNS4QNG"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'G-ZB7NNS4QNG');
	</script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Know About PPCs</title>
	
	<!-- Bootstrap CSS -->
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
	<!-- Custom CSS -->
	<link href="data/styles.css" rel="stylesheet">
	<style>
		h1 {
			text-align: center;
			font-family: segoe ui;
			margin: 20px 0;
			font-size: 30px;
		}
		a {
			display: block;
			margin: 10px;
			padding: 10px;
			text-align: center;
			font-size: 14px;
			color: black;
		}   
		a:hover {
			text-decoration: none;
		}
		body {
			font-family: segoe ui;
			margin: 0;
			padding: 0;
		}
		p {
			margin: 10px;
			padding: 10px;
			text-align: justify;
			font-size: 14px;
		}
		.section {
			margin: 20px 0;
		}
		.overview-images {
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
		}
		.overview-images img {
			width: 100%;
			max-width: 225px;
			height: 150px;
			cursor: pointer;
			margin: 5px;
		}
		.highlight {
			background-color: yellow;
		}
		.current-highlight {
			background-color: orange;
		}
		.section-divider {
			border-bottom: 2px solid black;
			margin: 20px 0;
		}
		.info-table {
			width: 60%;
			margin: 20px auto;
			border-collapse: collapse;
		}
		.info-table th, .info-table td {
			border: 1px solid black;
			padding: 8px;
			text-align: left;
		}
		.search-container {
			position: sticky;
			top: 0;
			background-color: white;
			z-index: 1000;
			padding: 10px 0;
			text-align: center;
		}
		.search-wrapper {
			display: inline-block;
			width: 80%;
			max-width: 600px;
		}
		.search-container .input-group .form-control {
			display: inline-block;
			width: calc(100% - 40px); /* space for the clear button */
		}
		.search-navigation {
			display: flex;
			justify-content: center;
			margin-top: 10px;
			display: none; /* Hide initially */
		}
		.search-navigation button {
			padding: 5px 10px;
			margin: 0 5px; /* Ensure buttons are side by side */
		}
		.go-to-top {
			position: fixed;
			bottom: 20px;
			right: 20px;
			z-index: 1000;
		}
		.search-count {
			display: inline-block;
			margin-left: 10px;
		}
	</style>
</head>
<body>
	<!-- Placeholder for the navigation bar -->
	<div id="navbar-placeholder"></div>
	<div class="container">
		<h1>Know About Permanent Pictorial Cancellations</h1>
		<!-- Search Bar -->
		<section class="search-container">
			<div class="search-wrapper">
				<div class="input-group mb-3">
					<input type="text" id="searchInput" class="form-control" placeholder="Search for PPC details..." onkeyup="searchTable()">
					<div class="input-group-append">
						<button class="btn btn-outline-secondary" type="button" onclick="clearSearch()">x</button>
					</div>
				</div>
				<div class="search-navigation">
					<button id="prevBtn" class="btn btn-secondary">Previous</button>
					<div class="search-count" id="searchCount">0 of 0</div>
					<button id="nextBtn" class="btn btn-secondary">Next</button>
				</div>
			</div>
		</section>

		<!-- Dropdown Menu with Search -->
		<div class="container mt-3">
			<div class="dropdown">
				<button class="btn btn-primary dropdown-toggle" type="button" id="sectionDropdownButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Sections</button>
				<div class="dropdown-menu" aria-labelledby="sectionDropdownButton">
					<input type="text" placeholder="Search..." id="sectionSearch" class="form-control mb-2">
					<!-- Dynamic content will be added here -->
				</div>
			</div>
		</div>
		<div id="delhi-rashtrapatibhawanso" class="section">
			<h2>Delhi: Rashtrapati Bhawan</h2>
			<div class="overview-images">
				<div class="col-12 col-md-6">
					<a href="pictures/blog-related-pictures/rashtrapati-bhawan.jpg" target="_self"><img src="pictures/blog-related-pictures/rashtrapati-bhawan.jpg" alt="Actual Representation"></a>
				</div>
				<div class="col-12 col-md-6">
					<a href="pictures/ppcs/110004-RashtrapatiBhavan-RashtrapatiBhavanSO.jpg" target="_self"><img src="pictures/ppcs/110004-RashtrapatiBhavan-RashtrapatiBhavanSO.jpg" alt="PPC"></a>
				</div>
			</div>
			<p>Rashtrapati Bhawan, the grand presidential residence of India, stands as an iconic symbol of the country's rich history and architectural marvel. Constructed during the British Raj, the foundation stone of this majestic structure was laid on 12th February 1912 by the then Viceroy of India, Lord Hardinge. The inspiration behind its creation was to shift the capital from Calcutta to Delhi and design an imposing residence that befits the dignity of the British monarch's representative.</p>
			<table class="info-table">
				<tr>
					<th>Date of Introduction</th>
					<td>March 17, 2005</td>
				</tr>
				<tr>
					<th rowspan="3">Address</th>
					<td>Sub Postmaster,</td>
				</tr>
				<tr>
					<td>Rashtrapati Bhawan SO,</td>
				</tr>
				<tr>
					<td>New Delhi (dt.), New Delhi - 110004.</td>
				</tr>
			</table>
			<div class="section-divider"></div>
		</div>
	</div>
		 
	 <!-- Placeholder for the footer -->
	<div id="footer-placeholder"></div>

	<!-- Go to Top Button -->
	<button class="btn btn-primary go-to-top" onclick="scrollToTop()">Go to Top</button>

	<!-- Bootstrap JS and dependencies -->
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

	<!-- Include the custom JS to load navbar and footer -->
	<script src="loadNavbarFooter.js"></script>

	<!-- Custom JS for Dropdown and Global Search -->
	<script>
		$(document).ready(function(){
			// Populate dropdown with section headings
			$('.section h2').each(function() {
				var sectionID = $(this).closest('.section').attr('id');
				var sectionTitle = $(this).text();
				$('.dropdown-menu').append('<a class="dropdown-item" href="#' + sectionID + '">' + sectionTitle + '</a>');
			});

			// Dropdown search
			$("#sectionDropdownButton").on("click", function() {
				$(".dropdown-menu").toggle();
			});

			$("#sectionSearch").on("keyup", function() {
				var value = $(this).val().toLowerCase();
				$(".dropdown-menu a").filter(function() {
					$(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);
				});
			});

			// Close the dropdown when clicking outside
			$(document).on("click", function(event){
				var $trigger = $(".dropdown");
				if($trigger !== event.target && !$trigger.has(event.target).length){
					$(".dropdown-menu").hide();
				}
			});

			var currentIndex = 0;
			var highlightedElements = [];

			// Global search and navigation
			$("#searchInput").on("keyup", function() {
				var value = $(this).val().toLowerCase();
				$("body").unmark().mark(value, {
					exclude: [".dropdown-menu", "#sectionSearch", "#sectionDropdownButton"]
				});

				highlightedElements = $('span.highlight').not('.dropdown-menu *');
				if (value) {
					currentIndex = 0;
					$('.search-navigation').show();
					$('.clear-btn').show();
					updateSearchCount();
					if (highlightedElements.length > 0) {
						scrollToHighlight(currentIndex);
					}
				} else {
					$('.search-navigation').hide();
					$('.clear-btn').hide();
					$('#searchCount').text('0 of 0');
				}
			});

			// Clear search
			window.clearSearch = function() {
				$("#searchInput").val('').trigger('keyup');
				$("body").unmark();
				$('.search-navigation').hide();
				$('.clear-btn').hide();
				$('#searchCount').text('0 of 0');
			}

			// Navigate through highlights
			$("#nextBtn").on("click", function() {
				if (highlightedElements.length) {
					currentIndex = (currentIndex + 1) % highlightedElements.length;
					scrollToHighlight(currentIndex);
				}
			});

			$("#prevBtn").on("click", function() {
				if (highlightedElements.length) {
					currentIndex = (currentIndex - 1 + highlightedElements.length) % highlightedElements.length;
					scrollToHighlight(currentIndex);
				}
			});

			function scrollToHighlight(index) {
				highlightedElements.removeClass('current-highlight');
				$(highlightedElements[index]).addClass('current-highlight');
				$('html, body').animate({
					scrollTop: $(highlightedElements[index]).offset().top - 20
				}, 500);
				updateSearchCount();
			}

			function updateSearchCount() {
				if (highlightedElements.length > 0) {
					$('#searchCount').text((currentIndex + 1) + ' of ' + highlightedElements.length);
				} else {
					$('#searchCount').text('0 of 0');
				}
			}
		});

		// Scroll to top function
		function scrollToTop() {
			$('html, body').animate({scrollTop: 0}, 'slow');
		}

		// jQuery mark.js for highlighting
		(function($) {
			$.fn.mark = function(term, options) {
				var termRegExp = new RegExp(term, 'gi');
				return this.each(function() {
					$(this).find("*").not(options.exclude.join(", ")).each(function() {
						var element = $(this);
						if (element.children().length === 0 && element.text().search(termRegExp) !== -1) {
							element.html(element.text().replace(termRegExp, '<span class="highlight">$&</span>'));
						}
					});
				});
			};
			$.fn.unmark = function() {
				return this.each(function() {
					$(this).find(".highlight").each(function() {
						var parent = $(this).parent();
						$(this).replaceWith($(this).text());
						parent[0].normalize();
					});
				});
			};
		})(jQuery);
	</script>
</body>
</html>
